{"ast":null,"code":"import _parseInt from \"@babel/runtime-corejs2/core-js/parse-int\";\nimport _Promise from \"@babel/runtime-corejs2/core-js/promise\";\nimport _objectDestructuringEmpty from \"@babel/runtime-corejs2/helpers/esm/objectDestructuringEmpty\";\nvar _jsxFileName = \"/Users/u089981/Documents/react/react-hooks-demo/src/Speakers.js\";\nvar __jsx = React.createElement;\nimport React, { useState, useEffect, useContext, useReducer, useCallback, useMemo } from 'react';\nimport \"bootstrap/dist/css/bootstrap.min.css\";\nimport \"../static/site.css\";\nimport { Header } from '../src/Header';\nimport { Menu } from '../src/Menu';\nimport SpeakerData from './SpeakerData';\nimport SpeakerDetail from './SpeakerDetail';\nimport { ConfigContext } from './App';\nimport speakersReducer from './speakersReducer';\n\nvar Speakers = function Speakers(_ref) {\n  _objectDestructuringEmpty(_ref);\n\n  var _useState = useState(true),\n      speakingSaturday = _useState[0],\n      setSpeakingSaturday = _useState[1];\n\n  var _useState2 = useState(true),\n      speakingSunday = _useState2[0],\n      setSpeakingSunday = _useState2[1]; // const [speakerList, setSpeakerList] = useState([]);\n\n\n  var _useReducer = useReducer(speakersReducer, []),\n      speakerList = _useReducer[0],\n      dispatch = _useReducer[1];\n\n  var _useState3 = useState(true),\n      isLoading = _useState3[0],\n      setIsLoading = _useState3[1];\n\n  var context = useContext(ConfigContext);\n  useEffect(function () {\n    setIsLoading(true);\n    new _Promise(function (resolve) {\n      setTimeout(function () {\n        resolve();\n      }, 1000);\n    }).then(function () {\n      setIsLoading(false);\n      var speakerListServerFilter = SpeakerData.filter(function (_ref2) {\n        var sat = _ref2.sat,\n            sun = _ref2.sun;\n        return speakingSaturday && sat || speakingSunday && sun;\n      });\n      dispatch({\n        type: \"setSpeakerList\",\n        data: speakerListServerFilter\n      });\n    });\n    return function () {\n      console.log(\"clean up\");\n    };\n  }, []);\n  var newSpeakerList = useMemo(function () {\n    return speakerList.filter(function (_ref3) {\n      var sat = _ref3.sat,\n          sun = _ref3.sun;\n      return speakingSaturday && sat || speakingSunday && sun;\n    }).sort(function (a, b) {\n      if (a.firstName < b.firstName) {\n        return -1;\n      }\n\n      if (a.firstName > b.firstName) {\n        return 1;\n      }\n\n      return 0;\n    });\n  });\n  var speakerListFiltered = isLoading ? [] : newSpeakerList;\n\n  var handleChangeSaturday = function handleChangeSaturday() {\n    setSpeakingSaturday(!speakingSaturday);\n  };\n\n  var handleChangeSunday = function handleChangeSunday() {\n    setSpeakingSunday(!speakingSunday);\n  };\n\n  var heartFavoriteHandler = useCallback(function (e, favoriteValue) {\n    e.preventDefault();\n\n    var sessionId = _parseInt(e.target.attributes[\"data-sessionid\"].value);\n\n    dispatch({\n      type: favoriteValue ? \"favorite\" : \"unfavorite\",\n      sessionId: sessionId\n    });\n  }, []);\n  if (isLoading) return __jsx(\"div\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 78\n    },\n    __self: this\n  }, \"Loading...\");\n  return __jsx(\"div\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 81\n    },\n    __self: this\n  }, __jsx(Header, {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 82\n    },\n    __self: this\n  }), __jsx(Menu, {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 83\n    },\n    __self: this\n  }), __jsx(\"div\", {\n    className: \"container\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 84\n    },\n    __self: this\n  }, __jsx(\"div\", {\n    className: \"btn-toolbar margintopbottom5 checkbox-bigger\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 85\n    },\n    __self: this\n  }, context.showSpeakerSpeakingDays === false ? null : __jsx(\"div\", {\n    className: \"hide\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 87\n    },\n    __self: this\n  }, __jsx(\"div\", {\n    className: \"form-check-inline\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 88\n    },\n    __self: this\n  }, __jsx(\"label\", {\n    className: \"form-check-label\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 89\n    },\n    __self: this\n  }, __jsx(\"input\", {\n    type: \"checkbox\",\n    className: \"form-check-input\",\n    onChange: handleChangeSaturday,\n    checked: speakingSaturday,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 90\n    },\n    __self: this\n  }), \"Saturday Speakers\")), __jsx(\"div\", {\n    className: \"form-check-inline\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 99\n    },\n    __self: this\n  }, __jsx(\"label\", {\n    className: \"form-check-label\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 100\n    },\n    __self: this\n  }, __jsx(\"input\", {\n    type: \"checkbox\",\n    className: \"form-check-input\",\n    onChange: handleChangeSunday,\n    checked: speakingSunday,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 101\n    },\n    __self: this\n  }), \"Sunday Speakers\"))))), __jsx(\"div\", {\n    className: \"row\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 114\n    },\n    __self: this\n  }, __jsx(\"div\", {\n    className: \"card-deck\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 115\n    },\n    __self: this\n  }, speakerListFiltered.map(function (_ref4) {\n    var id = _ref4.id,\n        firstName = _ref4.firstName,\n        lastName = _ref4.lastName,\n        bio = _ref4.bio,\n        favorite = _ref4.favorite;\n    return __jsx(SpeakerDetail, {\n      key: id,\n      id: id,\n      favorite: favorite,\n      onHeartFavoriteHandler: heartFavoriteHandler,\n      firstName: firstName,\n      lastName: lastName,\n      bio: bio,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 119\n      },\n      __self: this\n    });\n  }))));\n};\n\nexport default Speakers;","map":{"version":3,"sources":["/Users/u089981/Documents/react/react-hooks-demo/src/Speakers.js"],"names":["React","useState","useEffect","useContext","useReducer","useCallback","useMemo","Header","Menu","SpeakerData","SpeakerDetail","ConfigContext","speakersReducer","Speakers","speakingSaturday","setSpeakingSaturday","speakingSunday","setSpeakingSunday","speakerList","dispatch","isLoading","setIsLoading","context","resolve","setTimeout","then","speakerListServerFilter","filter","sat","sun","type","data","console","log","newSpeakerList","sort","a","b","firstName","speakerListFiltered","handleChangeSaturday","handleChangeSunday","heartFavoriteHandler","e","favoriteValue","preventDefault","sessionId","target","attributes","value","showSpeakerSpeakingDays","map","id","lastName","bio","favorite"],"mappings":"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","sourcesContent":["import React, { useState, useEffect, useContext, useReducer, useCallback, useMemo } from 'react';\nimport \"bootstrap/dist/css/bootstrap.min.css\";\nimport \"../static/site.css\";\nimport { Header } from '../src/Header';\nimport { Menu } from '../src/Menu';\nimport SpeakerData from './SpeakerData';\nimport SpeakerDetail from './SpeakerDetail';\nimport { ConfigContext } from './App';\nimport speakersReducer from './speakersReducer';\n\nconst Speakers = ({}) => {\n  const [speakingSaturday, setSpeakingSaturday] = useState(true);\n  const [speakingSunday, setSpeakingSunday] = useState(true);\n\n  // const [speakerList, setSpeakerList] = useState([]);\n\n  const [speakerList, dispatch] = useReducer(speakersReducer, []);\n  const [isLoading, setIsLoading] = useState(true);\n\n  const context = useContext(ConfigContext);\n\n  useEffect(() => {\n    setIsLoading(true);\n    new Promise(function(resolve) {\n      setTimeout(function() {\n        resolve();\n      }, 1000);\n    })\n    .then(() => {\n      setIsLoading(false);\n      const speakerListServerFilter = SpeakerData.filter(({sat, sun}) => {\n        return (speakingSaturday && sat) || (speakingSunday && sun);\n      });\n      dispatch({\n        type: \"setSpeakerList\",\n        data: speakerListServerFilter\n      });\n    });\n    return () => {\n      console.log(\"clean up\");\n    }\n  }, []);\n\n  const newSpeakerList = useMemo(() => {\n    return speakerList.filter(\n      ({ sat, sun }) => (speakingSaturday && sat) || (speakingSunday && sun)\n    )\n    .sort(function(a, b) {\n      if (a.firstName < b.firstName) {\n        return -1;\n      }\n      if (a.firstName > b.firstName) {\n        return 1;\n      }\n      return 0;\n    });\n  });\n\n  const speakerListFiltered = isLoading ? [] : newSpeakerList;\n\n  const handleChangeSaturday = () => {\n    setSpeakingSaturday(!speakingSaturday);\n  }\n\n  const handleChangeSunday = () => {\n    setSpeakingSunday(!speakingSunday);\n  };\n\n  const heartFavoriteHandler = useCallback((e, favoriteValue) => {\n    e.preventDefault();\n    const sessionId = parseInt(e.target.attributes[\"data-sessionid\"].value);\n    dispatch({\n      type: favoriteValue ? \"favorite\" : \"unfavorite\",\n      sessionId, \n    });\n  }, []);\n\n  if (isLoading) return <div>Loading...</div>;\n\n  return (\n    <div>\n      <Header />\n      <Menu />\n      <div className=\"container\">\n        <div className=\"btn-toolbar margintopbottom5 checkbox-bigger\">\n        {context.showSpeakerSpeakingDays === false ? null : (\n          <div className=\"hide\">\n            <div className=\"form-check-inline\">\n              <label className=\"form-check-label\">\n                <input\n                  type=\"checkbox\"\n                  className=\"form-check-input\"\n                  onChange={handleChangeSaturday}\n                  checked={speakingSaturday}\n                />\n                Saturday Speakers\n              </label>\n            </div>\n            <div className=\"form-check-inline\">\n              <label className=\"form-check-label\">\n                <input\n                  type=\"checkbox\"\n                  className=\"form-check-input\"\n                  onChange={handleChangeSunday}\n                  checked={speakingSunday}\n                />\n                Sunday Speakers\n              </label>\n            </div>\n          </div>\n        )}\n        </div>\n      </div>\n      <div className=\"row\">\n        <div className=\"card-deck\">\n          {speakerListFiltered.map(\n            ({id, firstName, lastName, bio, favorite }) => {\n              return (\n                <SpeakerDetail\n                  key={id}\n                  id={id}\n                  favorite={favorite}\n                  onHeartFavoriteHandler={heartFavoriteHandler}\n                  firstName={firstName}\n                  lastName={lastName}\n                  bio={bio}\n                />\n              );\n            }\n          )}\n        </div>\n      </div>\n    </div>\n  );\n};\n\nexport default Speakers;"]},"metadata":{},"sourceType":"module"}